---
interface Plan {
  name: string;
  price: string;
  description: string;
  ctaLabel: string;
  popular?: boolean;
  features: string[];
}

const { plans = [] }: { plans: Plan[] } = Astro.props;
---

<div class="grid gap-6 md:grid-cols-3">
  {plans.map((plan) => (
    <article class={`card-surface p-6 flex flex-col gap-4 ${plan.popular ? "border-aurora/60" : ""}`}>
      <div class="flex items-start justify-between gap-4">
        <div class="flex flex-col gap-2">
          <h3 class="text-xl font-semibold text-foreground">{plan.name}</h3>
          <p class="text-muted text-sm">{plan.description}</p>
        </div>
        {plan.popular && (
          <span class="rounded-full bg-aurora/15 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-aurora">Popular</span>
        )}
      </div>
      <p class="text-3xl font-display font-semibold text-foreground">{plan.price}</p>
      <ul class="flex flex-col gap-2" aria-label={`${plan.name} features`}>
        {plan.features.map((feature) => (
          <li class="flex items-start gap-2 text-sm text-muted">
            <span class="mt-0.5 text-aurora" aria-hidden="true">â€¢</span>
            <span>{feature}</span>
          </li>
        ))}
      </ul>
      <div class="mt-auto">
        <a
          class="inline-flex w-full items-center justify-center rounded-full bg-gradient-to-r from-aurora to-lavender px-5 py-2.5 font-semibold text-onAccent transition-transform duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-aurora hover:translate-y-[-1px] hover:scale-[1.01]"
          href="#"
          aria-label={`${plan.ctaLabel} for ${plan.name}`}
        >
          {plan.ctaLabel}
        </a>
      </div>
    </article>
  ))}
</div>
